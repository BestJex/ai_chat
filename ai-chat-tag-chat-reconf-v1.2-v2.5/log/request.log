-------2018-04-12 06:13:57,162[Pid:3934] [Thid:123145506365440] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 654, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 766, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 733, in _qa_base_v1
    ans_list, not_match = self._multipath_request(kb_num, address_dict, kb_vers_dict, question)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 639, in _multipath_request
    _kb = kbs[i]
IndexError: list index out of range
-------2018-04-12 06:32:55,924[Pid:4465] [Thid:123145510031360] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 652, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 765, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 712, in _qa_base_v1
    addr_list = get_zk_nodes(li)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/kazoo_func.py", line 48, in get_zk_nodes
    zk.start()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/kazoo/client.py", line 567, in start
    raise self.handler.timeout_exception("Connection time-out")
kazoo.handlers.threading.KazooTimeoutError: Connection time-out
-------2018-04-12 07:36:03,438[Pid:6076] [Thid:123145548947456] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 652, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 765, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 732, in _qa_base_v1
    ans_list, not_match = self._multipath_request(kb_num, address_dict, kb_vers_dict, question)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 637, in _multipath_request
    _kb = kbs[i]
IndexError: list index out of range
-------2018-04-12 07:39:31,124[Pid:6217] [Thid:123145497825280] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 659, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 772, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 739, in _qa_base_v1
    ans_list, not_match = self._multipath_request(kb_num, address_dict, kb_vers_dict, question)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 644, in _multipath_request
    _kb = kbs[i]
IndexError: list index out of range
-------2018-04-12 07:51:44,857[Pid:6640] [Thid:123145357197312] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 659, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 772, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 739, in _qa_base_v1
    ans_list, not_match = self._multipath_request(kb_num, address_dict, kb_vers_dict, question)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 644, in _multipath_request
    _kb = kbs[i]
IndexError: list index out of range
-------2018-04-12 07:53:05,013[Pid:6721] [Thid:123145448636416] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 659, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 772, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 719, in _qa_base_v1
    addr_list = get_zk_nodes(li)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/kazoo_func.py", line 49, in get_zk_nodes
    zk.start()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/kazoo/client.py", line 567, in start
    raise self.handler.timeout_exception("Connection time-out")
kazoo.handlers.threading.KazooTimeoutError: Connection time-out
-------2018-04-12 07:54:42,234[Pid:6780] [Thid:123145568018432] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 659, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 772, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 739, in _qa_base_v1
    ans_list, not_match = self._multipath_request(kb_num, address_dict, kb_vers_dict, question)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 644, in _multipath_request
    _kb = kbs[i]
IndexError: list index out of range
-------2018-04-12 07:59:50,866[Pid:6963] [Thid:123145546797056] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 659, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 772, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 739, in _qa_base_v1
    ans_list, not_match = self._multipath_request(kb_num, address_dict, kb_vers_dict, question)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 644, in _multipath_request
    _kb = kbs[i]
IndexError: list index out of range
-------2018-04-12 08:05:46,248[Pid:7169] [Thid:123145508249600] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 659, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 772, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 739, in _qa_base_v1
    ans_list, not_match = self._multipath_request(kb_num, address_dict, kb_vers_dict, question)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 644, in _multipath_request
    _kb = kbs[i]
IndexError: list index out of range
-------2018-04-12 08:33:11,259[Pid:7876] [Thid:123145424216064] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 659, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 772, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 719, in _qa_base_v1
    addr_list = get_zk_nodes(li)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/kazoo_func.py", line 50, in get_zk_nodes
    zk.start()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/kazoo/client.py", line 567, in start
    raise self.handler.timeout_exception("Connection time-out")
kazoo.handlers.threading.KazooTimeoutError: Connection time-out
-------2018-04-12 08:34:01,868[Pid:8281] [Thid:123145497120768] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 659, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 772, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 719, in _qa_base_v1
    addr_list = get_zk_nodes(li)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/kazoo_func.py", line 50, in get_zk_nodes
    zk.start()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/kazoo/client.py", line 567, in start
    raise self.handler.timeout_exception("Connection time-out")
kazoo.handlers.threading.KazooTimeoutError: Connection time-out
-------2018-04-12 08:34:20,751[Pid:8281] [Thid:123145497120768] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 659, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 772, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 719, in _qa_base_v1
    addr_list = get_zk_nodes(li)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/kazoo_func.py", line 50, in get_zk_nodes
    zk.start()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/kazoo/client.py", line 567, in start
    raise self.handler.timeout_exception("Connection time-out")
kazoo.handlers.threading.KazooTimeoutError: Connection time-out
-------2018-04-12 08:35:35,011[Pid:8281] [Thid:123145497120768] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
multiprocessing.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/urllib3/connection.py", line 141, in _new_conn
    (self.host, self.port), self.timeout, **extra_kw)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/urllib3/util/connection.py", line 83, in create_connection
    raise err
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py", line 1239, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py", line 1285, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py", line 1234, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py", line 1026, in _send_output
    self.send(msg)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py", line 964, in send
    self.connect()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x10de2c358>: Failed to establish a new connection: [Errno 61] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/requests/adapters.py", line 440, in send
    timeout=timeout
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/urllib3/util/retry.py", line 388, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.30.12', port=8000): Max retries exceeded with url: /70 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10de2c358>: Failed to establish a new connection: [Errno 61] Connection refused',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/multiprocessing/pool.py", line 119, in worker
    result = (True, func(*args, **kwds))
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 592, in _writer
    res = requests.post(addr, data=data, headers=headers)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/requests/api.py", line 112, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/requests/api.py", line 58, in request
    return session.request(method=method, url=url, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/requests/sessions.py", line 508, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/requests/sessions.py", line 618, in send
    r = adapter.send(request, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/requests/adapters.py", line 508, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.30.12', port=8000): Max retries exceeded with url: /70 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10de2c358>: Failed to establish a new connection: [Errno 61] Connection refused',))
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 659, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 772, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 739, in _qa_base_v1
    ans_list, not_match = self._multipath_request(kb_num, address_dict, kb_vers_dict, question)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 647, in _multipath_request
    po.apply(QasSet._writer, (q, i, _kb, _version, _addr, question))
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/multiprocessing/pool.py", line 253, in apply
    return self.apply_async(func, args, kwds).get()
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/multiprocessing/pool.py", line 608, in get
    raise self._value
requests.exceptions.ConnectionError: None: Max retries exceeded with url: /70 (Caused by None)
-------2018-04-13 07:21:31,235[Pid:7943] [Thid:123145531256832] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 661, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 774, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 741, in _qa_base_v1
    ans_list, not_match, fail = self._multipath_request(kb_num, address_dict, kb_vers_dict, question)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 653, in _multipath_request
    QasSet._read(q, num, answers, not_match, fail)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 617, in _read
    fail.append(msg['not_match'])
KeyError: 'not_match'
-------2018-04-13 09:19:28,048[Pid:9592] [Thid:123145461477376] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/knowbase/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 179, in create
    return self._create_v1(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 165, in _create_v1
    'id': request.data['kbId'],
KeyError: 'kbId'
-------2018-04-13 09:25:14,345[Pid:9708] [Thid:123145412165632] [django.request:93] [base:get_response] [WARNING]- Not Found: /api/v1/qaspairs/
-------2018-04-13 09:25:37,911[Pid:9708] [Thid:123145412165632] [django.request:93] [base:get_response] [WARNING]- Not Found: /api/v1/qaspairs/
-------2018-04-13 09:25:45,936[Pid:9708] [Thid:123145412165632] [django.request:93] [base:get_response] [WARNING]- Not Found: /api/v1/qaspairs/
-------2018-04-13 09:26:31,105[Pid:9708] [Thid:123145412165632] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qapairs/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 256, in create
    _objs, _ = self._restrct_data(_data)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 247, in _restrct_data
    objs, infos = QuestionsSet._format_qa(src, kb)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 217, in _format_qa
    question_id = data['questionId']
KeyError: 'questionId'
-------2018-04-13 09:50:29,811[Pid:10646] [Thid:123145337229312] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 679, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 792, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 783, in _qa_base_v1
    _data = list(map(func, _data_before))
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 778, in func
    each['question'] = qs_content[each['questionid']]
KeyError: '7c1b65e9-3eef-11e8-8ff7-9147af98ebd3'
-------2018-04-13 10:03:05,772[Pid:10998] [Thid:123145415450624] [django.request:118] [exception:handle_uncaught_exception] [ERROR]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 680, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 797, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 788, in _qa_base_v1
    _data = list(map(func, _data_before))
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 783, in func
    each['question'] = qs_content[each['questionid']]
KeyError: '7c1b65e9-3eef-11e8-8ff7-9147af98ebd3'
-------[Pid:599] [Thid:123145431568384] [django.request:118]  [exception:handle_uncaught_exception] [ERROR] [2018-04-19 09:48:30,448]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 680, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 894, in _prepub_v1
    ret = self._qa_base_v1(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 799, in _qa_base_v1
    li = [x['kbId'] for x in li]
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 799, in <listcomp>
    li = [x['kbId'] for x in li]
TypeError: string indices must be integers
-------[Pid:638] [Thid:123145549672448] [django.request:118]  [exception:handle_uncaught_exception] [ERROR] [2018-04-19 09:50:02,690]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 680, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 896, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 758, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
-------[Pid:658] [Thid:123145372418048] [django.request:118]  [exception:handle_uncaught_exception] [ERROR] [2018-04-19 09:53:34,530]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 680, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 896, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 758, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
UnboundLocalError: local variable 'res_data' referenced before assignment
-------[Pid:678] [Thid:123145360277504] [django.request:118]  [exception:handle_uncaught_exception] [ERROR] [2018-04-19 09:56:37,646]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 680, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 897, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 759, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
UnboundLocalError: local variable 'res_data' referenced before assignment
-------[Pid:703] [Thid:123145439969280] [django.request:118]  [exception:handle_uncaught_exception] [ERROR] [2018-04-19 09:58:39,784]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 680, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 897, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 759, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
UnboundLocalError: local variable 'res_data' referenced before assignment
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:07:55,637]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:09:40,760]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:11:50,341]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:13:19,426]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:15:08,001]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:16:51,997]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:18:09,915]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:18:18,815]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:20:18,425]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:21:03,574]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:22:35,858]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:26:04,268]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:27:18,876]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:30:20,686]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:31:36,260]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:33:05,169]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:37:06,599]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:40:29,366]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:40:47,663]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:43:01,234]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 15:43:56,844]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 764, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 16:09:39,442]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socket.py", line 722, in create_connection
    raise err
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socket.py", line 713, in create_connection
    sock.connect(sa)
OSError: [Errno 51] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/base/base.py", line 216, in ensure_connection
    self.connect()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/base/base.py", line 194, in connect
    self.connection = self.get_new_connection(conn_params)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/mysql/base.py", line 236, in get_new_connection
    return Database.connect(**conn_params)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 51] Network is unreachable)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 681, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 909, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 711, in _qa_base_v1_optimize
    if set(li) != set(kbs_exist):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/query.py", line 272, in __iter__
    self._fetch_all()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/query.py", line 1179, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/query.py", line 178, in __iter__
    for row in compiler.results_iter(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/sql/compiler.py", line 1015, in results_iter
    results = self.execute_sql(MULTI, chunked_fetch=chunked_fetch, chunk_size=chunk_size)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/sql/compiler.py", line 1051, in execute_sql
    sql, params = self.as_sql()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/sql/compiler.py", line 459, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/sql/compiler.py", line 391, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/sql/where.py", line 80, in as_sql
    sql, params = compiler.compile(child)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/sql/compiler.py", line 391, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/lookups.py", line 160, in as_sql
    lhs_sql, params = self.process_lhs(compiler, connection)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/lookups.py", line 153, in process_lhs
    db_type = self.lhs.output_field.db_type(connection=connection)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/fields/__init__.py", line 648, in db_type
    return connection.data_types[self.get_internal_type()] % data
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/utils/functional.py", line 36, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/mysql/base.py", line 133, in data_types
    if self.features.supports_microsecond_precision:
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/utils/functional.py", line 36, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/mysql/features.py", line 65, in supports_microsecond_precision
    return self.connection.mysql_version >= (5, 6, 4)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/utils/functional.py", line 36, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/mysql/base.py", line 345, in mysql_version
    with self.temporary_connection() as cursor:
  File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/contextlib.py", line 82, in __enter__
    return next(self.gen)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/base/base.py", line 576, in temporary_connection
    cursor = self.cursor()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/base/base.py", line 255, in cursor
    return self._cursor()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/base/base.py", line 232, in _cursor
    self.ensure_connection()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/base/base.py", line 216, in ensure_connection
    self.connect()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/utils.py", line 89, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/base/base.py", line 216, in ensure_connection
    self.connect()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/base/base.py", line 194, in connect
    self.connection = self.get_new_connection(conn_params)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/backends/mysql/base.py", line 236, in get_new_connection
    return Database.connect(**conn_params)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 967, in connect
    raise exc
django.db.utils.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 51] Network is unreachable)")
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 16:41:20,005]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 919, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 774, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 17:13:39,899]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 917, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 771, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 17:46:07,477]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 918, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 772, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 17:48:24,036]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 921, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 775, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 17:49:17,810]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 921, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 775, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 17:51:44,317]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 920, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 774, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 17:53:50,416]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 920, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 774, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 17:54:27,286]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 920, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 774, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 17:55:57,789]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 920, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 774, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 17:57:27,662]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 921, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 775, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-23 18:29:09,146]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 921, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 775, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 10:05:09,750]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 920, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 774, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 10:14:13,277]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 920, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 774, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 10:15:08,179]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 920, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 774, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 10:24:36,158]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 683, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 920, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 774, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 11:13:35,747]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 932, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 719, in _qa_base_v1_optimize
    conn = pymysql.connect(host=DATABASES['HOST'], user=DATABASES['USER'], password=DATABASES['PASSWORD'],
KeyError: 'HOST'
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 11:14:08,018]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 932, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 719, in _qa_base_v1_optimize
    conn = pymysql.connect(host=DATABASES['HOST'], user=DATABASES['USER'], password=DATABASES['PASSWORD'],
KeyError: 'HOST'
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 11:19:18,593]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 932, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 786, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 11:19:58,549]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 932, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 786, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 11:21:30,609]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 933, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 787, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 11:40:06,627]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 936, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 790, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 11:41:57,525]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 936, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 790, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 12:08:41,934]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 945, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 799, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 12:09:23,753]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 943, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 797, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 12:10:40,500]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 943, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 797, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 12:13:20,994]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 943, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 797, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 13:58:37,439]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 722, in _qa_base_v1_optimize
    kbs_exist = LexiconIndexes.objects.all().filter(id__in=li).values('id', flat=True)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/query.py", line 742, in values
    clone = self._values(*fields, **expressions)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/query.py", line 735, in _values
    clone = clone.annotate(**expressions)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/query.py", line 971, in annotate
    self._validate_values_are_expressions(args + tuple(kwargs.values()), method_name='annotate')
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/query.py", line 1247, in _validate_values_are_expressions
    ', '.join(invalid_args),
TypeError: QuerySet.annotate() received non-expression(s): True.
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 13:59:30,329]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 722, in _qa_base_v1_optimize
    kbs_exist = LexiconIndexes.objects.all().filter(id__in=li).values('id', flat=True)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/query.py", line 742, in values
    clone = self._values(*fields, **expressions)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/query.py", line 735, in _values
    clone = clone.annotate(**expressions)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/query.py", line 971, in annotate
    self._validate_values_are_expressions(args + tuple(kwargs.values()), method_name='annotate')
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/db/models/query.py", line 1247, in _validate_values_are_expressions
    ', '.join(invalid_args),
TypeError: QuerySet.annotate() received non-expression(s): True.
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 14:02:02,339]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 792, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 14:02:27,398]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 792, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 14:06:20,898]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 792, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 14:07:17,005]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 792, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 14:08:33,278]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 792, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 14:08:57,301]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 792, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 14:10:00,234]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 792, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 14:10:41,504]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 792, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 14:12:18,343]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 792, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-24 14:14:23,687]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 938, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 792, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 10:04:52,488]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 945, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 739, in _qa_base_v1_optimize
    kbs_exist = cursor.execute(sql)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 165, in execute
    result = self._query(query)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 321, in _query
    conn.query(q)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 860, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1061, in _read_query_result
    result.read()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1349, in read
    first_packet = self.connection._read_packet()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1018, in _read_packet
    packet.check_error()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column '634c4a7f' in 'where clause'")
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 10:05:38,653]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 945, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 739, in _qa_base_v1_optimize
    kbs_exist = cursor.execute(sql)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 165, in execute
    result = self._query(query)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 321, in _query
    conn.query(q)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 860, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1061, in _read_query_result
    result.read()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1349, in read
    first_packet = self.connection._read_packet()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1018, in _read_packet
    packet.check_error()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column '634c4a7f' in 'where clause'")
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 10:06:01,444]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 945, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 739, in _qa_base_v1_optimize
    kbs_exist = cursor.execute(sql)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 165, in execute
    result = self._query(query)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 321, in _query
    conn.query(q)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 860, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1061, in _read_query_result
    result.read()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1349, in read
    first_packet = self.connection._read_packet()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1018, in _read_packet
    packet.check_error()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column '634c4a7f' in 'where clause'")
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 10:07:07,457]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 946, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 740, in _qa_base_v1_optimize
    kbs_exist = cursor.execute(sql)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 165, in execute
    result = self._query(query)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 321, in _query
    conn.query(q)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 860, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1061, in _read_query_result
    result.read()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1349, in read
    first_packet = self.connection._read_packet()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1018, in _read_packet
    packet.check_error()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column '634c4a7f' in 'where clause'")
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 10:08:33,331]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 946, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 740, in _qa_base_v1_optimize
    kbs_exist = cursor.execute(sql)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 165, in execute
    result = self._query(query)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 321, in _query
    conn.query(q)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 860, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1061, in _read_query_result
    result.read()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1349, in read
    first_packet = self.connection._read_packet()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1018, in _read_packet
    packet.check_error()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column '634c4a7f' in 'where clause'")
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 10:12:43,872]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 946, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 740, in _qa_base_v1_optimize
    kbs_exist = cursor.execute(sql)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 165, in execute
    result = self._query(query)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 321, in _query
    conn.query(q)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 860, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1061, in _read_query_result
    result.read()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1349, in read
    first_packet = self.connection._read_packet()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1018, in _read_packet
    packet.check_error()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '))' at line 1")
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 10:15:29,474]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 946, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 740, in _qa_base_v1_optimize
    kbs_exist = cursor.execute(sql)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 165, in execute
    result = self._query(query)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 321, in _query
    conn.query(q)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 860, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1061, in _read_query_result
    result.read()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1349, in read
    first_packet = self.connection._read_packet()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1018, in _read_packet
    packet.check_error()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '))' at line 1")
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 11:04:27,774]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 953, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 802, in _qa_base_v1_optimize
    sql_3 = "select id ,content from app_questions where is_delete=False and id in " + tuple(question_ids)
TypeError: must be str, not tuple
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 11:04:51,221]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 953, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 822, in _qa_base_v1_optimize
    _data = list(map(func, _data_before))
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 817, in func
    each['question'] = qs_content[each['questionid']]
TypeError: tuple indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 11:09:41,369]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 955, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 804, in _qa_base_v1_optimize
    cursor.execute(sql_3)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 165, in execute
    result = self._query(query)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/cursors.py", line 321, in _query
    conn.query(q)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 860, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1061, in _read_query_result
    result.read()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1349, in read
    first_packet = self.connection._read_packet()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 1018, in _read_packet
    packet.check_error()
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ')' at line 1")
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 11:15:13,952]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 959, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 802, in _qa_base_v1_optimize
    if question_ids > 1:
TypeError: '>' not supported between instances of 'list' and 'int'
------[ERROR][exception:handle_uncaught_exception---118][2018-04-25 11:16:20,582]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/guozihan/envs/ENV3.6.1/lib/python3.6/site-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 959, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 825, in _qa_base_v1_optimize
    _data = list(map(func, _data_before))
  File "/Users/guozihan/CHATBOT/chat_bot_Demo/ai-chat/app/views.py", line 820, in func
    each['question'] = qs_content[each['questionid']]
TypeError: tuple indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:10:43,149]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 963, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 803, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: x['score'], reverse=True)
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:10:46,602]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 963, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 803, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: x['score'], reverse=True)
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:11:44,411]- Internal Server Error: /api/v2/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 496, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 411, in finalize_response
    % type(response)
AssertionError: Expected a `Response`, `HttpResponse` or `HttpStreamingResponse` to be returned from the view, but received a `<class 'NoneType'>`
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:11:52,921]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 963, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 803, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: x['score'], reverse=True)
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:13:00,645]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 963, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 803, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: x['score'], reverse=True)
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:13:22,817]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 963, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 803, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: x['score'], reverse=True)
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:13:38,359]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 963, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 803, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: x['score'], reverse=True)
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:16:39,965]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 963, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 803, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:16:43,257]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 963, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 803, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:24:20,050]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:26:43,038]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:27:55,458]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:28:03,480]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:31:20,790]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:32:31,116]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:34:18,443]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:36:26,220]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:38:05,003]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:38:21,056]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:41:02,999]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:43:06,087]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:49:29,415]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:53:55,296]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 964, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:56:00,596]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 14:56:45,210]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 798, in _qa_base_v1_optimize
    logger.debug('res_data = %s' % res_data['ans'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 15:07:18,377]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 15:08:00,330]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 15:10:12,426]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 15:12:58,052]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 15:19:11,312]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:02:27,193]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/lib/python3.5/socket.py", line 711, in create_connection
    raise err
  File "/usr/lib/python3.5/socket.py", line 702, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 728, in _qa_base_v1_optimize
    database=DATABASES['default']['NAME'], port=DATABASES['default']['PORT'], charset='utf8')
  File "/usr/local/lib/python3.5/dist-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 101] Network is unreachable)")
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:02:27,248]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/lib/python3.5/socket.py", line 711, in create_connection
    raise err
  File "/usr/lib/python3.5/socket.py", line 702, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 728, in _qa_base_v1_optimize
    database=DATABASES['default']['NAME'], port=DATABASES['default']['PORT'], charset='utf8')
  File "/usr/local/lib/python3.5/dist-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 101] Network is unreachable)")
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:02:27,252]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/lib/python3.5/socket.py", line 711, in create_connection
    raise err
  File "/usr/lib/python3.5/socket.py", line 702, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 728, in _qa_base_v1_optimize
    database=DATABASES['default']['NAME'], port=DATABASES['default']['PORT'], charset='utf8')
  File "/usr/local/lib/python3.5/dist-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 101] Network is unreachable)")
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:02:27,262]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/lib/python3.5/socket.py", line 711, in create_connection
    raise err
  File "/usr/lib/python3.5/socket.py", line 702, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 728, in _qa_base_v1_optimize
    database=DATABASES['default']['NAME'], port=DATABASES['default']['PORT'], charset='utf8')
  File "/usr/local/lib/python3.5/dist-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 101] Network is unreachable)")
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:02:27,269]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/lib/python3.5/socket.py", line 711, in create_connection
    raise err
  File "/usr/lib/python3.5/socket.py", line 702, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 728, in _qa_base_v1_optimize
    database=DATABASES['default']['NAME'], port=DATABASES['default']['PORT'], charset='utf8')
  File "/usr/local/lib/python3.5/dist-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 101] Network is unreachable)")
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:02:27,493]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/lib/python3.5/socket.py", line 711, in create_connection
    raise err
  File "/usr/lib/python3.5/socket.py", line 702, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 728, in _qa_base_v1_optimize
    database=DATABASES['default']['NAME'], port=DATABASES['default']['PORT'], charset='utf8')
  File "/usr/local/lib/python3.5/dist-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 101] Network is unreachable)")
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:02:27,532]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/lib/python3.5/socket.py", line 711, in create_connection
    raise err
  File "/usr/lib/python3.5/socket.py", line 702, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 728, in _qa_base_v1_optimize
    database=DATABASES['default']['NAME'], port=DATABASES['default']['PORT'], charset='utf8')
  File "/usr/local/lib/python3.5/dist-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 101] Network is unreachable)")
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:02:27,578]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/lib/python3.5/socket.py", line 711, in create_connection
    raise err
  File "/usr/lib/python3.5/socket.py", line 702, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 728, in _qa_base_v1_optimize
    database=DATABASES['default']['NAME'], port=DATABASES['default']['PORT'], charset='utf8')
  File "/usr/local/lib/python3.5/dist-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 101] Network is unreachable)")
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:02:27,642]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/lib/python3.5/socket.py", line 711, in create_connection
    raise err
  File "/usr/lib/python3.5/socket.py", line 702, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 728, in _qa_base_v1_optimize
    database=DATABASES['default']['NAME'], port=DATABASES['default']['PORT'], charset='utf8')
  File "/usr/local/lib/python3.5/dist-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 101] Network is unreachable)")
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:02:27,644]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/lib/python3.5/socket.py", line 711, in create_connection
    raise err
  File "/usr/lib/python3.5/socket.py", line 702, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 967, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 728, in _qa_base_v1_optimize
    database=DATABASES['default']['NAME'], port=DATABASES['default']['PORT'], charset='utf8')
  File "/usr/local/lib/python3.5/dist-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' ([Errno 101] Network is unreachable)")
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:56,916]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:56,976]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,040]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,094]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,237]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,272]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,287]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,300]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,423]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,496]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,510]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,522]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,613]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,671]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,714]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,723]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,765]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,824]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,940]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,968]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:57,977]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,055]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,281]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,331]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,333]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,347]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,518]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,561]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,563]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,933]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,935]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,936]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:58,953]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,134]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,147]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,179]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,193]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,394]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,412]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,439]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,445]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,674]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,674]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,688]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,722]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:56:59,999]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,035]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,037]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,067]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,281]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,308]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,325]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,328]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,546]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,584]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,587]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,590]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,823]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,872]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,904]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:00,910]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,117]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,132]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,157]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,166]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,381]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,406]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,494]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,510]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,627]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,632]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,736]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,748]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,932]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:01,951]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,009]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,017]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,150]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,239]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,311]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,313]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,416]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,511]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,579]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,654]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,667]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,734]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,770]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:02,952]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,018]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,048]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,156]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,178]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,236]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,245]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,250]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,381]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,432]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,463]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,489]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,492]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,676]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,916]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,913]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,943]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:03,994]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:04,046]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:04,239]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:04,272]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:04,296]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:04,315]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:57:04,333]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:59:21,821]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:59:25,537]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:59:27,004]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:59:28,116]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 17:59:29,366]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 18:14:49,352]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-03 20:36:15,036]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:22:25,408]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 920, in connect
    **kwargs)
  File "/usr/lib/python3.5/socket.py", line 711, in create_connection
    raise err
  File "/usr/lib/python3.5/socket.py", line 702, in create_connection
    sock.connect(sa)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 728, in _qa_base_v1_optimize
    database=DATABASES['default']['NAME'], port=DATABASES['default']['PORT'], charset='utf8')
  File "/usr/local/lib/python3.5/dist-packages/pymysql/__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 699, in __init__
    self.connect()
  File "/usr/local/lib/python3.5/dist-packages/pymysql/connections.py", line 967, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '172.23.1.156' (timed out)")
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:17,835]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:17,815]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:17,825]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:17,896]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:17,893]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,097]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,122]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,183]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,234]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,242]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,268]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,276]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,329]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,389]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,688]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,689]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:18,981]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:19,943]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:19,936]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:19,965]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:19,969]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:19,976]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,235]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,239]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,243]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,252]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,256]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,557]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,563]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,573]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,575]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,576]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,740]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,755]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,764]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,787]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,803]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,948]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,949]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:20,971]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:33,826]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:33,839]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:33,841]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:33,850]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:33,852]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,012]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,062]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,107]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,127]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,146]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,212]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,229]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,305]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,357]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,357]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,401]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,405]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,497]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,536]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,563]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,606]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,637]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,699]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,741]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,749]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,777]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,792]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,851]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,964]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,971]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,969]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:34,979]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:35,017]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:35,142]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:35,160]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:35,165]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:35,201]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:35,201]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:35,319]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:35,327]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:35,345]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:40,734]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:40,758]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:40,761]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:40,779]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:40,792]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:40,888]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:40,948]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:40,965]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:40,974]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:40,990]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,050]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,127]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,143]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,204]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,215]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,235]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,337]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,344]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,372]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,472]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,503]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,559]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,567]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,567]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,671]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:57:41,731]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:50,798]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:50,801]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:50,802]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:50,803]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:50,827]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:50,999]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,041]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,057]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,069]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,075]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,145]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,221]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,229]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,257]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,263]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,318]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,392]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,463]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,478]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,490]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,489]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,539]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,700]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,703]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,693]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,732]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,738]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,911]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,967]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,988]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:51,992]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:52,004]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:52,117]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:52,133]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 11:58:52,162]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:12:01,105]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:12:05,412]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:14:47,161]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:15:34,140]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:16:18,141]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:17:21,501]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:17:31,806]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:18:36,428]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:19:57,830]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:20:47,117]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:21:29,218]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:21:54,466]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:23:37,267]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:24:47,418]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:26:53,115]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:28:03,120]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:28:34,424]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:28:42,544]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:30:00,184]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:30:25,779]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:31:55,769]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:32:04,049]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:32:14,688]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:32:56,093]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:33:19,914]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:34:45,262]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:35:14,882]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:35:22,085]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:35:56,949]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:36:52,380]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:36:57,853]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 14:37:25,771]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 684, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 968, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 804, in _qa_base_v1_optimize
    if res_data['ans']:
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 16:33:27,184]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 692, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 971, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 811, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 16:33:30,430]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 692, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 971, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 811, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 16:33:31,663]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 692, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 971, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 811, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 16:33:33,284]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 692, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 971, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 811, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 16:33:55,523]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 692, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 971, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 811, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 16:34:49,810]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 692, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 971, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 811, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 16:34:55,876]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 692, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 971, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 811, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 16:35:54,812]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 692, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 971, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 811, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 16:35:57,402]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 692, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 971, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 811, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 16:40:03,656]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 692, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 971, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 811, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[ERROR][exception:handle_uncaught_exception---118][2018-05-04 16:40:12,408]- Internal Server Error: /api/v1/qas/prepub/
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/exception.py", line 35, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.5/dist-packages/django/core/handlers/base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.5/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/viewsets.py", line 95, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 454, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.5/dist-packages/rest_framework/views.py", line 491, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 692, in prepub
    return self._prepub_v1(request)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 971, in _prepub_v1
    ret = self._qa_base_v1_optimize(request, False)
  File "/mnt/hgfs/share/ai-chat-optimize-20180427/app/views.py", line 811, in _qa_base_v1_optimize
    _data_before = sorted(res_data['ans'], key=lambda x: -x['score'])
TypeError: list indices must be integers or slices, not str
------[WARNING][base:get_response---93][2018-07-09 14:39:53,899]- Not Found: /
------[WARNING][base:get_response---93][2018-07-09 14:39:54,023]- Not Found: /favicon.ico
------[WARNING][base:get_response---93][2018-07-09 14:40:25,241]- Not Found: /
------[ERROR][exception:handle_uncaught_exception---118][2018-07-09 14:54:39,921]- Internal Server Error: /api/v1/train/
Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\exception.py", line 35, in inner
    response = get_response(request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\viewsets.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 483, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 443, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 480, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\mixins.py", line 19, in create
    serializer = self.get_serializer(data=request.data)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\generics.py", line 110, in get_serializer
    serializer_class = self.get_serializer_class()
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\generics.py", line 127, in get_serializer_class
    % self.__class__.__name__
AssertionError: 'TrainSet' should either include a `serializer_class` attribute, or override the `get_serializer_class()` method.
------[ERROR][exception:handle_uncaught_exception---118][2018-07-09 15:05:39,378]- Internal Server Error: /api/v1/knowbase/
Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 32, in _decorator
    return method(self, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 67, in set
    return self.client.set(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\client\default.py", line 148, in set
    raise ConnectionInterrupted(connection=client, parent=e)
django_redis.exceptions.ConnectionInterrupted: Redis ConnectionError: Error 10061 connecting to localhost:6379. 由于目标计算机积极拒绝，无法连接。.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\exception.py", line 35, in inner
    response = get_response(request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\viewsets.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 483, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 443, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 480, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 186, in create
    return self._create_v1(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 180, in _create_v1
    cache.set(str(data['id']), "0", timeout=1209600)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 39, in _decorator
    raise e.parent
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\client\default.py", line 142, in set
    return client.set(nkey, nvalue, nx=nx, px=timeout, xx=xx)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\client.py", line 1171, in set
    return self.execute_command('SET', *pieces)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\client.py", line 673, in execute_command
    connection.send_command(*args)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 610, in send_command
    self.send_packed_command(self.pack_command(*args))
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 585, in send_packed_command
    self.connect()
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 489, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. 由于目标计算机积极拒绝，无法连接。.
------[ERROR][exception:handle_uncaught_exception---118][2018-07-09 15:08:21,227]- Internal Server Error: /api/v1/knowbase/
Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 32, in _decorator
    return method(self, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 67, in set
    return self.client.set(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\client\default.py", line 148, in set
    raise ConnectionInterrupted(connection=client, parent=e)
django_redis.exceptions.ConnectionInterrupted: Redis ConnectionError: Error 10060 connecting to 172.23.1.156:6379. 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\exception.py", line 35, in inner
    response = get_response(request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\viewsets.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 483, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 443, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 480, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 186, in create
    return self._create_v1(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 180, in _create_v1
    cache.set(str(data['id']), "0", timeout=1209600)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 39, in _decorator
    raise e.parent
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\client\default.py", line 142, in set
    return client.set(nkey, nvalue, nx=nx, px=timeout, xx=xx)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\client.py", line 1171, in set
    return self.execute_command('SET', *pieces)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\client.py", line 673, in execute_command
    connection.send_command(*args)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 610, in send_command
    self.send_packed_command(self.pack_command(*args))
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 585, in send_packed_command
    self.connect()
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 489, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10060 connecting to 172.23.1.156:6379. 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。.
------[ERROR][exception:handle_uncaught_exception---118][2018-07-09 15:13:48,429]- Internal Server Error: /api/v1/knowbase/
Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 32, in _decorator
    return method(self, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 67, in set
    return self.client.set(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\client\default.py", line 148, in set
    raise ConnectionInterrupted(connection=client, parent=e)
django_redis.exceptions.ConnectionInterrupted: Redis ConnectionError: Error 10060 connecting to 192.168.31.236:6379. 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\exception.py", line 35, in inner
    response = get_response(request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\viewsets.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 483, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 443, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 480, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 186, in create
    return self._create_v1(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 180, in _create_v1
    cache.set(str(data['id']), "0", timeout=1209600)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 39, in _decorator
    raise e.parent
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\client\default.py", line 142, in set
    return client.set(nkey, nvalue, nx=nx, px=timeout, xx=xx)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\client.py", line 1171, in set
    return self.execute_command('SET', *pieces)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\client.py", line 673, in execute_command
    connection.send_command(*args)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 610, in send_command
    self.send_packed_command(self.pack_command(*args))
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 585, in send_packed_command
    self.connect()
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 489, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10060 connecting to 192.168.31.236:6379. 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。.
------[ERROR][exception:handle_uncaught_exception---118][2018-07-09 15:18:50,347]- Internal Server Error: /api/v1/knowbase/
Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 32, in _decorator
    return method(self, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 67, in set
    return self.client.set(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\client\default.py", line 148, in set
    raise ConnectionInterrupted(connection=client, parent=e)
django_redis.exceptions.ConnectionInterrupted: Redis ConnectionError: Error 10061 connecting to None:6379. 由于目标计算机积极拒绝，无法连接。.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\exception.py", line 35, in inner
    response = get_response(request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\viewsets.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 483, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 443, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 480, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 186, in create
    return self._create_v1(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 180, in _create_v1
    cache.set(str(data['id']), "0", timeout=1209600)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 39, in _decorator
    raise e.parent
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\client\default.py", line 142, in set
    return client.set(nkey, nvalue, nx=nx, px=timeout, xx=xx)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\client.py", line 1171, in set
    return self.execute_command('SET', *pieces)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\client.py", line 673, in execute_command
    connection.send_command(*args)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 610, in send_command
    self.send_packed_command(self.pack_command(*args))
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 585, in send_packed_command
    self.connect()
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 489, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to None:6379. 由于目标计算机积极拒绝，无法连接。.
------[ERROR][exception:handle_uncaught_exception---118][2018-07-09 15:21:02,348]- Internal Server Error: /api/v1/knowbase/
Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 32, in _decorator
    return method(self, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 67, in set
    return self.client.set(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\client\default.py", line 148, in set
    raise ConnectionInterrupted(connection=client, parent=e)
django_redis.exceptions.ConnectionInterrupted: Redis ConnectionError: Error 10061 connecting to None:6379. 由于目标计算机积极拒绝，无法连接。.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\exception.py", line 35, in inner
    response = get_response(request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\viewsets.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 483, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 443, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 480, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 186, in create
    return self._create_v1(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 180, in _create_v1
    cache.set(str(data['id']), "0", timeout=1209600)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\cache.py", line 39, in _decorator
    raise e.parent
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django_redis\client\default.py", line 142, in set
    return client.set(nkey, nvalue, nx=nx, px=timeout, xx=xx)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\client.py", line 1171, in set
    return self.execute_command('SET', *pieces)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\client.py", line 673, in execute_command
    connection.send_command(*args)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 610, in send_command
    self.send_packed_command(self.pack_command(*args))
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 585, in send_packed_command
    self.connect()
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\redis\connection.py", line 489, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to None:6379. 由于目标计算机积极拒绝，无法连接。.
------[ERROR][exception:handle_uncaught_exception---118][2018-07-09 18:12:39,877]- Internal Server Error: /api/v1/train/delete_kb/
Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\exception.py", line 35, in inner
    response = get_response(request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\viewsets.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 483, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 443, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 480, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 749, in delete_kb
    KnowGraphs.objects.all().filter(know_base_id__in=kb_ids).phys_delete()
AttributeError: 'QuerySet' object has no attribute 'phys_delete'
------[ERROR][exception:handle_uncaught_exception---118][2018-07-09 18:59:09,690]- Internal Server Error: /api/v1/train/delete_kb/
Traceback (most recent call last):
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\exception.py", line 35, in inner
    response = get_response(request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 128, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\viewsets.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 483, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 443, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\rest_framework\views.py", line 480, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\code\ai-chat\app\views.py", line 758, in delete_kb
    cur.execute(sql_2)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\DBUtils\SteadyDB.py", line 661, in tough_method
    raise error  # reraise the original error again
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\DBUtils\SteadyDB.py", line 580, in tough_method
    result = method(*args, **kwargs)  # try to execute
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\pymysql\connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\pymysql\connections.py", line 727, in _read_query_result
    result.read()
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\pymysql\connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\pymysql\connections.py", line 683, in _read_packet
    packet.check_error()
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python35\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'lnn07094' in 'where clause'")
